{% extends 'layout.html' %} {% block title %} User Management{% endblock %} {% block body %}

<!-- Jumbotron -->
<body class="d-flex flex-column text-center text-white" style="background-color: #383838">
  <section class="container d-flex p-3 mt-4 mx-auto mx-auto flex-column" style="height: 400px">
    <section class="jumbotron text-center mx-auto mx-auto" style="background-color: #00000000">
      <h1 class="display-4">Data Users</h1>
      <p class="lead">Database</p>
    </section>
  </section>
  <!-- Akhir Jumbotron -->
  {% with messages = get_flashed_messages() %} {% if messages %} {% for message in messages %}
  <div class="alert alert-success alert-dismissible fade show mt-3 mx-auto" role="alert" style="width: 20rem">
    {{ message }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">Ã—</span>
    </button>
  </div>
  {% endfor %} {% endif %} {% endwith %}

  <div class="container">
    <h3>Data Admin</h3>
    <button type="button" class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#admin">
      Add Admin
    </button>
  </div>
  
  
  <!-- Modal -->
  <div class="modal fade" id="admin" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title text-dark" id="staticBackdropLabel">Add Admin</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form action="{{url_for('add_admin')}}" method="POST">
            <div class="form-group">
              <div class="text-dark text-left ms-1 fs-6 mb-2">Name</div>
              <input type="text" name="name" class="form-control" placeholder="Name" />
            </div>
            <div class="form-group">
              <div class="text-dark text-left ms-1 fs-6 mb-2">Email</div>
              <input type="email" name="email" class="form-control" placeholder="Email" />
            </div>
            <div class="form-group">
              <div class="text-dark text-left ms-1 fs-6 mb-2">Password</div>
              <input type="password" name="password" class="form-control" placeholder="Password" />
            </div>
            
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button btn-block" class="btn btn-primary">Save</button>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="col-md-10 mx-auto">
      <table id="example" class="table table-striped table-hover table-bordered table-light" style="width: 100%">
        <thead>
          <tr>
            <td>No</td>
            <td>Name</td>
            <td>Email</td>
            <td>Action</td>
          </tr>
        </thead>
        <tbody>
          {% for item in list_data %}
          <tr>
            <td>{{item.Id}}</td>
            <td>{{item.name}}</td>
            <td>{{item.email}}</td>
            <td width="130">
              <a href="/delete_admin/{{item.Id}}" class="btn btn-danger btn-delete btn-sm">delete</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <div class="container mt-4">
    <h3>Data User</h3>
    <div class="col-md-10 mx-auto">
      <table id="example" class="table table-striped table-hover table-bordered table-light" style="width: 100%">
        <thead>
          <tr>
            <td>No</td>
            <td>Name</td>
            <td>Email</td>
            <td>Action</td>
          </tr>
        </thead>
        <tbody>
          {% for item in list_users %}
          <tr>
            <td>{{item.Id}}</td>
            <td>{{item.name}}</td>
            <td>{{item.email}}</td>
            <td width="130">
              <a href="/delete_user/{{item.Id}}" class="btn btn-danger btn-delete btn-sm">delete</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</body>

{% endblock %}
